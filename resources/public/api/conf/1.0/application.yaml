openapi: 3.0.3

info:
  title: Organisations Matching
  contact: {}
  version: '1.0'
  description: |
    ### Overview
    This API allows government departments to check HM Revenue and Customs (HMRC) records for an organisation.
  
    On a successful match, the API will give you a matchId.
    
    Data will be filtered using scopes so that only relevant data is shared. We’ll assign scopes based on your data requirements.
    
    ### Corporation Tax and Self Assessment
    If you have a Company Registration number (CRN), you will need to use the Corporation Tax endpoint. This is described in the endpoint documentation.
    
    If you have a Self Assessment Unique Taxpayer Reference (UTR), you will need to use the Self Assessment endpoint. This is described in the endpoint documentation.
    
    They will return a matchId and HATEOAS links that you can use to get further details about the matched organisation.
    
    ### HAL HATEOS RESTful APIs
    This API is a HAL HATEOAS RESTful API. It has been designed to promote discoverability and to be self documenting.
    
    A HATEOAS API makes it clear to client software what further actions are available when an action is completed. Responses from an endpoint include URLs to further endpoints you can call. New functionality can be added without breaking your client software.
    
    This API is still under development and further enhancements are planned. We recommend following the HATEOAS approach from the start, so that your work is not affected by future changes.
    
    Follow URLs as they are presented to you in the API at runtime. This will prevent you from building state into your client, and will decouple you from changes to the API.
    
    The default Media Type for responses is hal+json.
    
    ### Data Availability
    To make data available in near real time,the data source is refreshed on a daily basis. Changes can take up to 24 hours to be reflected.
  
    Some data for this API comes from Companies House. If there are updates to the data sources, data returned from this API may be at least 24 hours out of date.
    
    ### Versioning
    When an API changes in a way that is backwards-incompatible, we increase the version number of the API. 
    See our [reference guide](/api-documentation/docs/reference-guide#versioning) for more on
    versioning.
    
    ### Errors
    We use standard HTTP status codes to show whether an API request succeeded or not. They are usually in the range:
    * 200 to 299 if it succeeded, including code 202 if it was accepted by an API that needs to wait for further action
    * 400 to 499 if it failed because of a client error by your application
    * 500 to 599 if it failed because of an error on our server
    
    Errors specific to each API are shown in the Endpoints section, under Response.
    See our [reference guide](/api-documentation/docs/reference-guide#errors) for more on errors.

    ### Testing
    You can use the sandbox environment to [test this API](https://developer.service.hmrc.gov.uk/api-documentation/docs/testing).
  
    It supports [stateful behaviour](https://developer.service.hmrc.gov.uk/api-documentation/docs/testing/stateful-behaviour).
    
    You can set up a test user which is an organisation using the [Create Test User API](https://developer.service.hmrc.gov.uk/api-documentation/docs/api/service/api-platform-test-user/1.0).

servers:
  - url: https://api.isc.development.tax.service.gov.uk
    description: Development
  - url: https://api.qa.tax.service.gov.uk
    description: QA
  - url: https://test-api.service.hmrc.gov.uk
    description: Sandbox
  - url: https://api.service.hmrc.gov.uk
    description: PRD

security:
  - userRestricted:
      - assigned

paths:
  /organisations/matching/corporation-tax:
    post:
      tags:
      - organisations
      summary: Match Corporation Tax details for an organisation
      description: |-
        Use this endpoint to match details about an organisation against HMRC’s records.

        Details include: company registration number (CRN), employer name, and address.

        On a successful match, a matchId is returned. The matchId can be used in later calls.
        
        See also [fraud prevention](https://developer.service.hmrc.gov.uk/guides/fraud-prevention/)."

      operationId: MatchCorporationTaxdetailsforanorganisation
      parameters:
      - name: CorrelationId
        in: header
        description: |-
          A UUID, used for traceability purposes.
          Must conform to the regular expression:
          
          <code class="code--slim">^[0-9a-fA-F]{8}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{12}$</code>
        required: true
        style: simple
        schema:
          type: string
          example: 58072660-1df9-4deb-b4ca-cd2d7f96e480
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              allOf:
              - $ref: '#/components/schemas/OrganisationsMatchingCorporationTaxrequest'
              - example:
                  companyRegistrationNumber: AA123456
                  employerName: Example Company Ltd
                  address:
                    addressLine1: 123 Long Road
                    postcode: AB12 3CD
            example:
              companyRegistrationNumber: AA123456
              employerName: Example Company Ltd
              address:
                addressLine1: 123 Long Road
                postcode: AB12 3CD
        required: true
      responses:
        '200':
          description: Returns a matchId which can be used to make calls to details endpoints
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/OrganisationsMatchingCorporationTaxresponse'
                - example:
                    _links:
                      getCorporationTaxMatch:
                        href: /organisations/matching/corporation-tax/57072660-1df9-4aeb-b4ea-cd2d7f96e430
                        title: Get links to Corporation Tax and number of employees details for a matched organisation
                      self:
                        href: /organisations/matching/corporation-tax
                    matchId: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
              example:
                _links:
                  getCorporationTaxMatch:
                    href: /organisations/matching/corporation-tax/57072660-1df9-4aeb-b4ea-cd2d7f96e430
                    title: Get links to Corporation Tax and number of employees details for a matched organisation
                  self:
                    href: /organisations/matching/corporation-tax
                matchId: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
        '400':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/errorResponse400'
                - example:
                    code: BAD_REQUEST
              examples:
                BadRequest:
                  description: The request body does not conform to the schema
                  value:
                    code: BAD_REQUEST
        '404':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/errorResponse404A'
                - example:
                    code: MATCHING_FAILED
              examples:
                Forbidden:
                  description: The organisation's details provided did not match with HMRC's records
                  value:
                    code: MATCHING_FAILED
      deprecated: false
  /organisations/matching/self-assessment:
    post:
      tags:
      - organisations
      summary: Match Self Assessment details for an organisation
      description: |-
        Use this endpoint to match details about an organisation against HMRC’s records.

        Details include Unique Taxpayer Reference, taxpayer name, taxpayer type, and address.

        On a successful match, a matchId is returned. The matchId can be used in later calls.
        
        See also [fraud prevention](https://developer.service.hmrc.gov.uk/guides/fraud-prevention/).

      operationId: MatchSelfAssessmentdetailsforanorganisation
      parameters:
      - name: CorrelationId
        in: header
        description: |-
          A UUID, used for traceability purposes.

          Must conform to the regular expression:
          
          <code class="code--slim">^[0-9a-fA-F]{8}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{12}$</code>
        required: true
        style: simple
        schema:
          type: string
          example: 58072660-1df9-4deb-b4ca-cd2d7f96e480
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              allOf:
              - $ref: '#/components/schemas/OrganisationsMatchingSelfAssessmentrequest'
              - example:
                  selfAssessmentUniqueTaxPayerRef: '1234567890'
                  taxPayerType: Partnership
                  taxPayerName: Partnership Name
                  address:
                    addressLine1: 123 Long Road
                    postcode: AB12 3CD
            example:
              selfAssessmentUniqueTaxPayerRef: '1234567890'
              taxPayerType: Partnership
              taxPayerName: Partnership Name
              address:
                addressLine1: 123 Long Road
                postcode: AB12 3CD
        required: true
      responses:
        '200':
          description: Returns a matchId which can be used to make calls to details endpoints
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/OrganisationsMatchingSelfAssessmentresponse'
                - example:
                    _links:
                      getSelfAssessmentMatch:
                        href: /organisations/matching/self-assessment/57072660-1df9-4aeb-b4ea-cd2d7f96e430
                        title: Get links to Self Assessment and number of employees details for a matched organisation
                      self:
                        href: /organisations/matching/self-assessment
                    matchId: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
              example:
                _links:
                  getSelfAssessmentMatch:
                    href: /organisations/matching/self-assessment/57072660-1df9-4aeb-b4ea-cd2d7f96e430
                    title: Get links to Self Assessment and number of employees details for a matched organisation
                  self:
                    href: /organisations/matching/self-assessment
                matchId: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
        '400':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/errorResponse400'
                - example:
                    code: BAD_REQUEST
              examples:
                BadRequest:
                  description: The request body does not conform to the schema
                  value:
                    code: BAD_REQUEST
        '404':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/errorResponse404A'
                - example:
                    code: MATCHING_FAILED
              examples:
                Forbidden:
                  description: The organisation's details provided did not match with HMRC's records
                  value:
                    code: MATCHING_FAILED
      deprecated: false
  /organisations/matching/vat:
    post:
      tags:
        - organisations
      summary: Match VAT details for an organisation
      description: |-
        Use this endpoint to match VAT details about an organisation against HMRC’s records.

        Details include VAT Registration Number (VRN), organisation name, address line 1, and postcode.

        On a successful match, a matchId is returned. The matchId can be used in later calls.
        
        See also [fraud prevention](https://developer.service.hmrc.gov.uk/guides/fraud-prevention/).

      operationId: MatchVatDetailsForAnOrganisation
      parameters:
        - name: CorrelationId
          in: header
          description: |-
            A UUID, used for traceability purposes.
            
            Must conform to the regular expression:
            
            <code class="code--slim">^[0-9a-fA-F]{8}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{12}$</code>
          required: true
          style: simple
          schema:
            type: string
            example: 58072660-1df9-4deb-b4ca-cd2d7f96e480
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/OrganisationsMatchingVatRequest'
                - example:
                    vrn: '123456789'
                    organisationName: Example Company Ltd
                    addressLine1: 123 Long Road
                    postcode: AB12 3CD
            example:
              vrn: '123456789'
              organisationName: Example Company Ltd
              addressLine1: 123 Long Road
              postcode: AB12 3CD
        required: true
      responses:
        '200':
          description: Returns a matchId which can be used to make calls to details endpoints
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/OrganisationsMatchingVatResponse'
                  - example:
                      _links:
                        getVatMatch:
                          href: /organisations/matching/vat/57072660-1df9-4aeb-b4ea-cd2d7f96e430
                          title: Get links to VAT details for a matched organisation
                        self:
                          href: /organisations/matching/vat
                      matchId: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
              example:
                _links:
                  getVatMatch:
                    href: /organisations/matching/vat/57072660-1df9-4aeb-b4ea-cd2d7f96e430
                    title: Get links to VAT details for a matched organisation
                  self:
                    href: /organisations/matching/vat
                matchId: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
        '400':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errorResponse400'
                  - example:
                      code: BAD_REQUEST
              examples:
                BadRequest:
                  description: The request body does not conform to the schema
                  value:
                    code: BAD_REQUEST
        '404':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/errorResponse404A'
                  - example:
                      code: MATCHING_FAILED
              examples:
                Forbidden:
                  description: The organisation's details provided did not match with HMRC's records
                  value:
                    code: MATCHING_FAILED
      deprecated: false
  /organisations/matching/corporation-tax/{matchId}:
    get:
      tags:
      - organisations
      summary: Get links to Corporation Tax and number of employees details for a matched organisation
      description: |-
        This endpoint takes a matchId and returns matched organisation details.

        The endpoint also provides links to get Corporation Tax and number of employees details for a matched organisation.

        You will get a subset of the JSON response shown below based on your assigned scopes.
        
        See also [fraud prevention](https://developer.service.hmrc.gov.uk/guides/fraud-prevention/).

      operationId: GetlinkstoCorporationTaxandnumberofemployeesdetailsforamatchedorganisation
      parameters:
      - name: matchId
        in: path
        description: A short-lived universally unique identifier (UUID), typically valid for 5 hours. Generated through the Organisations Matching API.
        required: true
        style: simple
        schema:
          type: string
          example: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
      - name: CorrelationId
        in: header
        description: |-
          A UUID, used for traceability purposes.

          Must conform to the regular expression:
          
          <code class="code--slim">^[0-9a-fA-F]{8}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{12}$</code>
        required: true
        style: simple
        schema:
          type: string
          example: 58072660-1df9-4deb-b4ca-cd2d7f96e480
      responses:
        '200':
          description: The company's Corporation Tax details
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/OrganisationsMatchingCorporationTaxresponse1'
                - example:
                    companyRegistrationNumber: AA123456
                    employerName: Example Company Ltd
                    address:
                      addressLine1: 123 Long Road
                      postcode: AB12 3CD
                    _links:
                      self:
                        href: organisations/matching/corporation-tax?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                      getCorporationTaxDetails:
                        href: organisations/details/corporation-tax?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                        title: Get an organisation's Corporation Tax details
                      getEmployeeCount:
                        href: organisations/details/number-of-employees?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                        title: Find the number of employees for an organisation
              example:
                companyRegistrationNumber: AA123456
                employerName: Example Company Ltd
                address:
                  addressLine1: 123 Long Road
                  postcode: AB12 3CD
                _links:
                  self:
                    href: organisations/matching/corporation-tax?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                  getCorporationTaxDetails:
                    href: organisations/details/corporation-tax?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                    title: Get an organisation's Corporation Tax details
                  getEmployeeCount:
                    href: organisations/details/number-of-employees?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                    title: Find the number of employees for an organisation
        '404':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/errorResponse404B'
                - example:
                    code: NOT_FOUND
              examples:
                NotFound:
                  description: Not Found
                  value:
                    code: NOT_FOUND
      deprecated: false
  /organisations/matching/self-assessment/{matchId}:
    get:
      tags:
      - organisations
      summary: Get links to Self Assessment and number of employees details for a matched organisation
      description: |-
        This endpoint takes a matchId and returns matched organisation details.

        The endpoint also provides links to get Self Assessment and number of employees details for a matched organisation.

        You will get a subset of the JSON response shown below based on your assigned scopes.
        
        See also [fraud prevention](https://developer.service.hmrc.gov.uk/guides/fraud-prevention/).

      operationId: GetlinkstoSelfAssessmentandnumberofemployeesdetailsforamatchedorganisation
      parameters:
      - name: matchId
        in: path
        description: A short-lived universally unique identifier (UUID), typically valid for 5 hours. Generated through the Organisations Matching API.
        required: true
        style: simple
        schema:
          type: string
          example: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
      - name: CorrelationId
        in: header
        description: |-
          A UUID, used for traceability purposes.

          Must conform to the regular expression:
          
          <code class="code--slim">^[0-9a-fA-F]{8}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{12}$</code>
        required: true
        style: simple
        schema:
          type: string
          example: 58072660-1df9-4deb-b4ca-cd2d7f96e480
      responses:
        '200':
          description: The Organisation's Self Assessment details
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/OrganisationsMatchingSelfAssessmentresponse1'
                - example:
                    selfAssessmentUniqueTaxPayerRef: '1234567890'
                    taxPayerType: Partnership
                    taxPayerName: Partnership Name
                    address:
                      addressLine1: 123 Long Road
                      postcode: AB12 3CD
                    _links:
                      self:
                        href: organisations/matching/self-assessment?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                      getSelfAssessmentDetails:
                        href: organisations/details/self-assessment?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                        title: Get an organisation's self-assessment details
                      getEmployeeCount:
                        href: organisations/details/number-of-employees?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                        title: Find the number of employees for an organisation
              example:
                selfAssessmentUniqueTaxPayerRef: '1234567890'
                taxPayerType: Partnership
                taxPayerName: Partnership Name
                address:
                  addressLine1: 123 Long Road
                  postcode: AB12 3CD
                _links:
                  self:
                    href: organisations/matching/self-assessment?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                  getSelfAssessmentDetails:
                    href: organisations/details/self-assessment?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                    title: Get an organisation's self-assessment details
                  getEmployeeCount:
                    href: organisations/details/number-of-employees?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                    title: Find the number of employees for an organisation
        '404':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/errorResponse404B'
                - example:
                    code: NOT_FOUND
              examples:
                NotFound:
                  description: Not Found
                  value:
                    code: NOT_FOUND
      deprecated: false
  /organisations/matching/vat/{matchId}:
    get:
      tags:
      - organisations
      summary: Get links to VAT details for a matched organisation
      description: |-
        This endpoint takes a matchId and returns a matched organisation's vrn.

        The endpoint also provides links to get VAT details for a matched organisation.

        You will get a subset of the JSON response shown below based on your assigned scopes.
        
        See also [fraud prevention](https://developer.service.hmrc.gov.uk/guides/fraud-prevention/).

      operationId: GetLinksToVatDetailsForAMatchedOrganisation
      parameters:
      - name: matchId
        in: path
        description: A short-lived universally unique identifier (UUID), typically valid for 5 hours. Generated through the Organisations Matching API.
        required: true
        style: simple
        schema:
          type: string
          example: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
      - name: CorrelationId
        in: header
        description: |-
          A UUID, used for traceability purposes.

          Must conform to the regular expression:
          
          <code class="code--slim">^[0-9a-fA-F]{8}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{4}[-][0-9a-fA-F]{12}$</code>
        required: true
        style: simple
        schema:
          type: string
          example: 58072660-1df9-4deb-b4ca-cd2d7f96e480
      responses:
        '200':
          description: The Organisation's VAT details
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/OrganisationsMatchingVatResponse'
                - example:
                    vrn: '123456789'
                    _links:
                      self:
                        href: organisations/matching/vat?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                      getVatDetails:
                        href: organisations/details/vat?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                        title: Get an organisation's VAT details
              example:
                vrn: '123456789'
                _links:
                  self:
                    href: organisations/matching/vat?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                  getVatDetails:
                    href: organisations/details/vat?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
                    title: Get an organisation's VAT details
        '404':
          description: ''
          headers: {}
          content:
            application/json:
              schema:
                allOf:
                - $ref: '#/components/schemas/errorResponse404B'
                - example:
                    code: NOT_FOUND
              examples:
                NotFound:
                  description: Not Found
                  value:
                    code: NOT_FOUND
      deprecated: false
components:
  securitySchemes:
    userRestricted:
      type: oauth2
      description: |
        HMRC supports OAuth 2.0 for authenticating user restricted API requests using an OAuth 2.0 Bearer Token in the AUTHORIZATION header.
        See https://developer.service.hmrc.gov.uk/api-documentation/docs/authorisation/user-restricted-endpoints for details.
      flows:
        authorizationCode:
          authorizationUrl: https://api.service.hmrc.gov.uk/oauth/authorize
          tokenUrl: https://api.service.hmrc.gov.uk/oauth/token
          refreshUrl: https://api.service.hmrc.gov.uk/oauth/refresh
          scopes:
            assigned : depending on your assigned scopes you will see the json keys your scopes allow.
  schemas:
    errorResponse400:
      title: errorResponse
      required:
      - code
      type: object
      properties:
        code:
          type: string
          description: Bad request
    errorResponse404A:
      title: errorResponse
      required:
        - code
      type: object
      properties:
        code:
          type: string
          description: Matching failed
    errorResponse404B:
      title: errorResponse
      required:
        - code
      type: object
      properties:
        code:
          type: string
          description: Not found
    Address:
      title: Address
      required:
      - addressLine1
      - postcode
      type: object
      properties:
        addressLine1:
          type: string
          description: Address line 1.
          example: 123 Long Road
        postcode:
          type: string
          description: The postcode for the address.
          example: AB12 3CD
      description: The employer's address details.
    Address1:
      title: Address1
      required:
      - addressLine1
      - postcode
      type: object
      properties:
        addressLine1:
          type: string
          description: Address line 1.
          example: 123 Long Road
        postcode:
          type: string
          description: The postcode for the address.
          example: AB12 3CD
      description: The organisation's address.
    GetCorporationTaxDetails:
      title: GetCorporationTaxDetails
      required:
      - href
      - title
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/details/corporation-tax?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
        title:
          type: string
          description: Get an organisation's Corporation Tax details
      description: The URI for the endpoint to get Corporation Tax details for the matched organisation.
    GetCorporationTaxMatch:
      title: GetCorporationTaxMatch
      required:
      - href
      - title
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/matching/corporation-tax/57072660-1df9-4aeb-b4ea-cd2d7f96e430
        title:
          type: string
          description: Get links to Corporation Tax and number of employees details for a matched organisation
      description: The Uniform Resource Identifier (URI) for the endpoint that provides links to get Corporation Tax details for the matched organisation.
    GetEmployeeCount:
      title: GetEmployeeCount
      required:
      - href
      - title
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/details/number-of-employees?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
        title:
          type: string
          description: Find the number of employees for an organisation
      description: The URI for the endpoint to get number of employees data.
    GetSelfAssessmentDetails:
      title: GetSelfAssessmentDetails
      required:
      - href
      - title
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/details/self-assessment/?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
        title:
          type: string
          description: Get an organisation's Self Assessment details
      description: The URI for the endpoint to get Self Assessment details for the matched organisation.
    GetSelfAssessmentMatch:
      title: GetSelfAssessmentMatch
      required:
      - href
      - title
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/matching/self-assessment/57072660-1df9-4aeb-b4ea-cd2d7f96e430
        title:
          type: string
          description: Get links to Self Assessment and number of employees details for a matched organisation
      description: The Uniform Resource Identifier (URI) for the endpoint that provides links to get Self Assessment details for the matched organisation.
    GetVatDetails:
      title: GetVatDetails
      required:
        - href
        - title
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/details/vat?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
        title:
          type: string
          description: Find the VAT details for an organisation
      description: The URI for the endpoint to get VAT details.
    Links:
      title: Links
      required:
      - getCorporationTaxMatch
      - self
      type: object
      properties:
        getCorporationTaxMatch:
          allOf:
          - $ref: '#/components/schemas/GetCorporationTaxMatch'
          - description: The Uniform Resource Identifier (URI) for the endpoint that provides links to get Corporation Tax details for the matched organisation.
        self:
          allOf:
          - $ref: '#/components/schemas/Self'
          - description: The URI for this endpoint.
      description: A list of links for possible actions related to this endpoint.
    Links1:
      title: Links1
      required:
      - getSelfAssessmentMatch
      - self
      type: object
      properties:
        getSelfAssessmentMatch:
          allOf:
          - $ref: '#/components/schemas/GetSelfAssessmentMatch'
          - description: The Uniform Resource Identifier (URI) for the endpoint that provides links to get Self Assessment details for the matched organisation.
        self:
          allOf:
          - $ref: '#/components/schemas/Self'
          - description: The URI for this endpoint.
      description: A list of links for possible actions related to this endpoint.
    Links2:
      title: Links2
      required:
      - self
      - getCorporationTaxDetails
      - getEmployeeCount
      type: object
      properties:
        self:
          allOf:
          - $ref: '#/components/schemas/Self2'
          - description: The Uniform Resource Identifier (URI) for this endpoint.
        getCorporationTaxDetails:
          allOf:
          - $ref: '#/components/schemas/GetCorporationTaxDetails'
          - description: The URI for the endpoint to get Corporation Tax details for the matched organisation.
        getEmployeeCount:
          allOf:
          - $ref: '#/components/schemas/GetEmployeeCount'
          - description: The URI for the endpoint to get number of employees data.
      description: A list of links for possible actions related to this endpoint.
    Links3:
      title: Links3
      required:
      - self
      - getSelfAssessmentDetails
      - getEmployeeCount
      type: object
      properties:
        self:
          allOf:
          - $ref: '#/components/schemas/Self3'
          - description: The Uniform Resource Identifier (URI) for the endpoint to get the self-assessment data.
        getSelfAssessmentDetails:
          allOf:
          - $ref: '#/components/schemas/GetSelfAssessmentDetails'
          - description: The URI for the endpoint to get Self Assessment details for the matched organisation.
        getEmployeeCount:
          allOf:
          - $ref: '#/components/schemas/GetEmployeeCount'
          - description: The URI for the endpoint to get number of employees data.
      description: A list of links for possible actions related to this endpoint.
    LinksVat:
      title: LinksVat
      required:
        - self
        - getVatDetails
      type: object
      properties:
        self:
          allOf:
            - $ref: '#/components/schemas/SelfVat'
            - description: The Uniform Resource Identifier (URI) for the endpoint to get the vat data.
        getVatDetails:
          allOf:
            - $ref: '#/components/schemas/GetVatDetails'
            - description: The URI for the endpoint to get VAT details for the matched organisation.
      description: A list of links for possible actions related to this endpoint.
    OrganisationsMatchingCorporationTaxrequest:
      title: OrganisationsMatchingCorporationTaxrequest
      required:
      - companyRegistrationNumber
      - employerName
      - address
      type: object
      properties:
        companyRegistrationNumber:
          pattern: ^[A-Z0-9]{1,10}$
          type: string
          description: Company registration number (CRN).
          example: AA123456
        employerName:
          type: string
          description: The name of the employer.
          example: Example Company Ltd
        address:
          allOf:
          - $ref: '#/components/schemas/Address'
          - description: The employer's address details.
      description: Company's CRN and known facts
    OrganisationsMatchingCorporationTaxresponse:
      title: OrganisationsMatchingCorporationTaxresponse
      required:
      - _links
      - matchId
      type: object
      properties:
        _links:
          allOf:
          - $ref: '#/components/schemas/Links'
          - description: A list of links for possible actions related to this endpoint.
        matchId:
          type: string
          description: A short-lived universally unique identifier (UUID), typically valid for 5 hours.
          example: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
      description: Company Matching Response
    OrganisationsMatchingCorporationTaxresponse1:
      title: OrganisationsMatchingCorporationTaxresponse1
      required:
      - employerName
      - address
      - _links
      type: object
      properties:
        companyRegistrationNumber:
          pattern: ^[A-Z0-9]{1,10}$
          type: string
          description: Company registration number (CRN).
          example: AA123456
        employerName:
          type: string
          description: The name of the employer.
          example: Example Company Ltd
        address:
          allOf:
          - $ref: '#/components/schemas/Address'
          - description: The employer's address details.
        _links:
          allOf:
          - $ref: '#/components/schemas/Links2'
          - description: A list of links for possible actions related to this endpoint.
      description: Company Details Response
    OrganisationsMatchingSelfAssessmentrequest:
      title: OrganisationsMatchingSelfAssessmentrequest
      required:
      - selfAssessmentUniqueTaxPayerRef
      - taxPayerType
      - taxPayerName
      - address
      type: object
      properties:
        selfAssessmentUniqueTaxPayerRef:
          pattern: ^[0-9]{10}$
          type: string
          description: The organisation's Unique Taxpayer Reference for Self Assessment.
          example: '1234567890'
        taxPayerType:
          allOf:
          - $ref: '#/components/schemas/TaxPayerType'
          - description: The type of taxpayer the organisation is.
        taxPayerName:
          type: string
          description: The name of the organisation.
          example: Partnership Name
        address:
          allOf:
          - $ref: '#/components/schemas/Address1'
          - description: The organisation's address.
    OrganisationsMatchingSelfAssessmentresponse:
      title: OrganisationsMatchingSelfAssessmentresponse
      required:
      - _links
      - matchId
      type: object
      properties:
        _links:
          allOf:
          - $ref: '#/components/schemas/Links1'
          - description: A list of links for possible actions related to this endpoint.
        matchId:
          type: string
          description: A short-lived universally unique identifier (UUID), typically valid for 5 hours.
          example: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
      description: Company Matching Response
    OrganisationsMatchingSelfAssessmentresponse1:
      title: OrganisationsMatchingSelfAssessmentresponse1
      required:
      - taxPayerType
      - taxPayerName
      - address
      - _links
      type: object
      properties:
        selfAssessmentUniqueTaxPayerRef:
          pattern: ^[0-9]{10}$
          type: string
          description: The organisation's Unique Taxpayer Reference for Self Assessment.
          example: '1234567890'
        taxPayerType:
          allOf:
          - $ref: '#/components/schemas/TaxPayerType1'
          - description: Individual, Partnership
        taxPayerName:
          type: string
          description: The name of the organisation.
          example: Partnership Name
        address:
          allOf:
          - $ref: '#/components/schemas/Address1'
          - description: The organisation's address.
        _links:
          allOf:
          - $ref: '#/components/schemas/Links3'
          - description: A list of links for possible actions related to this endpoint.
    OrganisationsMatchingVatRequest:
      title: OrganisationsMatchingVatRequest
      required:
        - vrn
        - organisationName
        - addressLine1
        - postcode
      type: object
      properties:
        vrn:
          pattern: ^[0-9]{9}$
          type: string
          description: The organisation's VAT registration number
          example: '123456789'
        organisationName:
          type: string
          description: The name of the organisation
          example: Example Company Ltd
        addressLine1:
          type: string
          description: The organisation's address line 1
          example: 123 Long Road
        postcode:
          type: string
          description: The organisation's postcode
          example: AB12 3CD
    OrganisationsMatchingVatResponse:
      title: OrganisationsMatchingVatResponse
      required:
        - _links
        - matchId
      type: object
      properties:
        _links:
          allOf:
            - $ref: '#/components/schemas/LinksVat'
            - description: A list of links for possible actions related to this endpoint.
        matchId:
          type: string
          description: A short-lived universally unique identifier (UUID), typically valid for 5 hours.
          example: 57072660-1df9-4aeb-b4ea-cd2d7f96e430
      description: VAT Matching Response
    Self:
      title: Self
      required:
      - href
      type: object
      properties:
        href:
          type: string
          description: The URL for this endpoint.
          example: /organisations/matching/corporation-tax
      description: The URI for this endpoint.
    Self2:
      title: Self2
      required:
      - href
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/matching/corporation-tax?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
      description: The Uniform Resource Identifier (URI) for this endpoint.
    Self3:
      title: Self3
      required:
      - href
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/matching/self-assessment/?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
      description: The Uniform Resource Identifier (URI) for the endpoint to get the self-assessment data.
    SelfVat:
      title: SelfVat
      required:
      - href
      type: object
      properties:
        href:
          type: string
          description: The URL of the endpoint.
          example: /organisations/matching/vat/?matchId=57072660-1df9-4aeb-b4ea-cd2d7f96e430
      description: The Uniform Resource Identifier (URI) for the endpoint to get VAT data.
    TaxPayerType:
      title: TaxPayerType
      enum:
      - Individual
      - Partnership
      type: string
      description: The type of taxpayer the organisation is.
    TaxPayerType1:
      title: TaxPayerType1
      enum:
      - Individual
      - Partnership
      type: string
      description: Individual, Partnership
tags:
- name: organisations
  description: ''
